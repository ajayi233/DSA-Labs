<link
  rel="stylesheet"
  href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/5.3.0/css/bootstrap.min.css"
/>
<link
  rel="stylesheet"
  href="https://cdn.datatables.net/2.1.8/css/dataTables.bootstrap5.css"
/>
<h1>Admin Dashboard</h1>

<div class="admin-nav">
  <li><a href="/products/addProduct">Add a product</a></li>
  <li><a href="/category">Add a category</a></li>
</div>

<table id="example" class="table table-striped" style="width: 100%">
  <tr>
    <th>Name</th>
    <th>Description</th>
    <th>Price</th>
    <th>Quantity</th>
    <th>Image</th>
    <th>Category</th>
    <th>Actions</th>
  </tr>
  <% products.forEach(product => { %>
  <tr>
    <td><%= product.name %></td>
    <td><%= product.description %></td>
    <td><%= product.price %></td>
    <td><%= product.quantity %></td>
    <td>
      <img
        style="width: 100px; height: 100px"
        src="/uploads/<%= product.imageUrl %>"
        alt="<%= product.name %>"
      />
    </td>
    <td><%= product.category.name %></td>
    <td>
      <a
        href="/products/updateProduct/<%= product._id %>"
        class="btn btn-primary"
        >Update</a
      >
      <a
        href="/products/deleteProduct/<%= product._id %>"
        class="btn btn-danger"
        >Delete</a
      >
    </td>
  </tr>
  <% }); %>
</table>

<script
  type="text/javascript"
  src="https://cdn.datatables.net/1.11.5/js/jquery.dataTables.min.js"
></script>
<script
  type="text/javascript"
  src="https://cdn.datatables.net/1.11.5/js/dataTables.bootstrap5.min.js"
></script>

<script
  src="https://code.jquery.com/jquery-3.7.1.min.js"
  integrity="sha256-/JqT3SQfawRcv/BIHPThkBvs0OEvtFFmqPF/lYI/Cxo="
  crossorigin="anonymous"
></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"></script>

<script>
  new DataTable("#example");
  $(document).ready(function () {
    $("#example").DataTable();
  });
</script>

<%- include('../partials/footer') %>
